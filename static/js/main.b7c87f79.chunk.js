(this.webpackJsonpjpncardapp=this.webpackJsonpjpncardapp||[]).push([[0],{104:function(e,t,a){e.exports=a(134)},109:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),l=(a(109),a(56)),i=a(34),s=a(24),m=r.a.createContext({});m.Consumer;var u=m,p=a(20),d=a(191),g=a(188),E=a(190),b=a(209),f=a(186),h=a(210),y=a(184),k=a(192),v=a(208),O=a(80),j=a.n(O),S=a(35),C=a(79),x=a(189),w=a(193),I=a(197),N=a(195),P=a(196),A=a(194);function R(){return r.a.createElement(S.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(y.a,{color:"inherit",href:"https://indrabagus.github.io"},"Digital Bagus")," ",(new Date).getFullYear(),".")}var B=a(47),L=a.n(B),W=a(57),D=a(58),G=a.n(D),T={url:{APIBASE_URL:"https://qambing.com/rest-api/v0.1",BASENAME:"/jpncardapp"}},z="".concat(T.url.APIBASE_URL,"/login");function M(){return(M=Object(W.a)(L.a.mark((function e(t,a){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.get("".concat(z),{auth:{username:t,password:a}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(W.a)(L.a.mark((function e(t,a){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.get("".concat(T.url.APIBASE_URL)+a,{headers:{Accept:"application/json",Authorization:"Token "+t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q=Object(C.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function J(){var e=q(),t=r.a.useContext(u),a=r.a.useState({username:"",password:"",isSubmitting:!1,isRemember:!0,errmsg:null}),n=Object(s.a)(a,2),o=n[0],c=n[1],l=r.a.useState(!1),i=Object(s.a)(l,2),m=i[0],O=i[1];function C(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value,a=e.target.id;c(V({},o,Object(p.a)({},a,t)))}var B=function(){O(!1)},L=r.a.createElement("form",{action:"/",method:"GET",onSubmit:function(e){e.preventDefault(),function(e,t){return M.apply(this,arguments)}(o.username,o.password).then((function(e){t.action({type:"SIGNIN",payload:{isLocal:o.isRemember,token:e.token}})})).catch((function(e){console.log("ERROR=>",e),c(V({},o,{errmsg:e.message||e.statusText})),O(!0)}))},className:e.form,noValidate:!0},r.a.createElement(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Username",autoComplete:"username",autoFocus:!0,value:o.username,id:"username",onChange:C}),r.a.createElement(b.a,{variant:"outlined",margin:"normal",id:"password",type:"password",label:"Password",autoComplete:"current-password",required:!0,fullWidth:!0,onChange:C}),r.a.createElement(f.a,{control:r.a.createElement(h.a,{type:"checkbox",checked:o.isRemember,id:"isRemember",color:"primary",onChange:C}),label:"Remember me"}),r.a.createElement(g.a,{className:e.submit,type:"submit",variant:"contained",color:"primary",fullWidth:!0},"Sign In"));return r.a.createElement(x.a,{component:"main",maxWidth:"xs"},r.a.createElement(E.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(d.a,{className:e.avatar},r.a.createElement(j.a,null)),r.a.createElement(S.a,{component:"h1",variant:"h5"},"Sign in"),L,r.a.createElement(k.a,{container:!0},r.a.createElement(k.a,{item:!0},r.a.createElement(y.a,{href:"#",variant:"body2"},"Contact Email: indra.bagus@gmail.com")))),r.a.createElement(v.a,{mt:8},r.a.createElement(R,null)),r.a.createElement(w.a,{open:m,onClose:B,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(A.a,{id:"alert-dialog-title"},"Error Notification !"),r.a.createElement(N.a,null,r.a.createElement(P.a,{id:"alert-dialog-description"},"Error Message: ",o.errmsg)),r.a.createElement(I.a,null,r.a.createElement(g.a,{onClick:B,color:"primary",autoFocus:!0},"Close"))))}var _=a(206),K=a(207),Y=a(187),$=a(87),H=a.n($),Q=a(211),X=a(198),Z=a(185),ee=a(199),te=a(200),ae=a(201),ne=a(202),re=a(83),oe=a.n(re),ce=a(84),le=a.n(ce),ie=a(85),se=a.n(ie),me=a(82),ue=a.n(me),pe=a(59),de=a.n(pe),ge=a(81),Ee=a.n(ge);function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var he=Object(C.a)((function(e){return{toolBar:fe({display:"flex",alignItems:"centre",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),nested:{paddingLeft:e.spacing(4)},list:{width:250}}}));function ye(e){var t=he(),a=r.a.useContext(u),n=r.a.useState(!1),o=Object(s.a)(n,2),c=o[0],l=o[1];function i(t){localStorage.setItem("current-url",t),e.onGetCard(t)}return r.a.createElement(Q.a,{variant:"temporary",open:e.open,onClose:e.onClose,ModalProps:{keepMounted:!0}},r.a.createElement("div",{className:t.toolBar},r.a.createElement(Y.a,{onClick:e.onClose},r.a.createElement(Ee.a,null))),r.a.createElement(X.a,null),r.a.createElement(Z.a,{className:t.list,role:"presentation"},r.a.createElement(ee.a,{button:!0,onClick:function(){return l(!c)}},r.a.createElement(te.a,null,r.a.createElement(ue.a,null)),r.a.createElement(ae.a,{primary:"Genki Book"}),c?r.a.createElement(oe.a,null):r.a.createElement(le.a,null)),r.a.createElement(ne.a,{in:c,timeout:"auto",unmountOnExit:!0},r.a.createElement(Z.a,{onClick:e.onClose,onKeyDown:e.onClose,component:"div",disablePadding:!0},r.a.createElement(ee.a,{button:!0,className:t.nested,onClick:function(){return i("/genki/random/1")}},r.a.createElement(Y.a,null," ",r.a.createElement(de.a,null)," "),r.a.createElement(ae.a,{primary:"Genki Book Vol 1"})),r.a.createElement(ee.a,{button:!0,className:t.nested,onClick:function(){return i("/genki/random/2")}},r.a.createElement(Y.a,null," ",r.a.createElement(de.a,null)," "),r.a.createElement(ae.a,{primary:"Genki Book Vol 2"})))),r.a.createElement(ee.a,{button:!0,onClick:function(){return a.action({type:"SIGNOUT"})}},r.a.createElement(te.a,null,r.a.createElement(se.a,null)),r.a.createElement(ae.a,{primary:"Sign Out"}))))}var ke=a(203),ve=a(204),Oe=a(205),je=Object(C.a)((function(e){var t;return{card:(t={maxWidth:400,minWidth:290},Object(p.a)(t,e.breakpoints.up("sm"),{maxWidth:600,minWidth:600}),Object(p.a)(t,e.breakpoints.up("md"),{maxWidth:1024,minWidth:800}),Object(p.a)(t,"borderRadius",10),t),title:Object(p.a)({fontSize:"1rem"},e.breakpoints.up("sm"),{fontSize:"2rem"}),vocabulary:Object(p.a)({fontSize:"1.5rem"},e.breakpoints.up("md"),{fontSize:"4rem"}),pos:{marginBottom:e.spacing(2)}}}));function Se(e){var t=je();return r.a.createElement(ke.a,{className:t.card},r.a.createElement(ve.a,{onClick:e.onGetCard},r.a.createElement(S.a,{className:t.title,color:"textSecondary",gutterBottom:!0},"Vocabulary Card"),r.a.createElement(S.a,{className:t.vocabulary},e.data.kanji?e.data.kanji:e.data.kana),r.a.createElement(S.a,{className:t.pos,color:"textSecondary"},e.data.kanji?"[ "+e.data.kana+" ]":"\xa0"),r.a.createElement(S.a,{variant:"body2",component:"p"},'"',e.data.english,'"')),r.a.createElement(Oe.a,null,r.a.createElement(g.a,{size:"medium",onClick:e.onGetCard},"Learn More")))}var Ce=a(86),xe=a.n(Ce),we=Object(C.a)((function(e){return{imageIcon:{height:"100%"},iconRoot:{textAlign:"center",marginRight:e.spacing(1)},toolbar:{marginTop:e.spacing(2),marginBottom:e.spacing(5),borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)},toolbarTitle:Object(p.a)({flex:1,fontSize:"1rem"},e.breakpoints.up("sm"),{fontSize:"2rem"}),card:{marginTop:e.spacing(1),display:"flex",alignItems:"centre",justifyContent:"flex-end"},copyright:{marginTop:e.spacing(3)}}}));function Ie(e){var t=we(),a=r.a.useState(!1),n=Object(s.a)(a,2),o=n[0],c=n[1],l=r.a.useState({}),i=Object(s.a)(l,2),m=i[0],p=i[1],d=r.a.useState(),g=Object(s.a)(d,2),E=g[0],b=g[1],f=r.a.useContext(u);function h(){c(!o)}function y(e){(function(e,t){return U.apply(this,arguments)})(f.authstate.token,e).then((function(e){p(e.result)})).catch((function(e){console.log("ERROR :",e)}))}return r.a.useEffect((function(){var e=localStorage.getItem("current-url");e||(e="/genki/random/1",localStorage.setItem("current-url",e)),b(e),y(e)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{maxWidth:"lg"},r.a.createElement(_.a,{className:t.toolbar},r.a.createElement(Y.a,{onClick:h},r.a.createElement(H.a,null)),r.a.createElement(K.a,{classes:{root:t.iconRoot}},r.a.createElement("img",{src:xe.a,className:t.imageIcon})),r.a.createElement(S.a,{className:t.toolbarTitle,component:"h2",variant:"h5",color:"inherit",noWrap:!0},"Japan Card Application")),r.a.createElement(ye,{open:o,onClose:h,onGetCard:y}),r.a.createElement(k.a,{container:!0,spacing:0,direction:"column",alignItems:"center"},r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(Se,{data:m,onGetCard:function(){return y(E)}}))),r.a.createElement("div",{className:t.copyright},r.a.createElement(R,null))))}function Ne(){return!1===r.a.useContext(u).authstate.isAuthenticate?r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",exact:!0,component:J}),r.a.createElement(i.b,null,r.a.createElement(i.a,{to:"/"}))):r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",exact:!0,component:Ie}),r.a.createElement(i.b,null,r.a.createElement(i.a,{to:"/"})))}var Pe=function(){return r.a.createElement(l.a,{basename:T.url.BASENAME},r.a.createElement(Ne,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement((function(e){var t=r.a.useState({isAuthenticate:!1,isLocal:!0,token:null}),a=Object(s.a)(t,2),n=a[0],o=a[1];return r.a.useEffect((function(){localStorage.getItem("token")?o({isAuthenticate:!0,isLocal:!0,token:localStorage.getItem("token")}):sessionStorage.getItem("token")&&o({isAuthenticate:!0,isLocal:!1,token:sessionStorage.getItem("token")})}),[]),r.a.createElement(m.Provider,{value:{authstate:n,action:function(e){switch(e.type){case"SIGNIN":e.payload.isLocal?localStorage.setItem("token",e.payload.token):sessionStorage.setItem("token",e.payload.token),o({isAuthenticate:!0,isLocal:e.payload.isLocal,token:e.payload.token});break;case"SIGNOUT":n.isLocal?localStorage.clear():sessionStorage.clear(),o({isAuthenticate:!1,isLocal:!0,token:null});break;default:return null}}}},e.children)}),null,r.a.createElement(Pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},86:function(e,t,a){e.exports=a.p+"static/media/japan.29f79c14.svg"}},[[104,1,2]]]);
//# sourceMappingURL=main.b7c87f79.chunk.js.map